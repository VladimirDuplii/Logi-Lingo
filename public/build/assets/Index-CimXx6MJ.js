import{r,j as s,H as u}from"./app-CB6H9fcf.js";import{A as p}from"./AuthenticatedLayout-Di68VUFM.js";import{P as o}from"./Toast-BdGrl3Cx.js";import"./card-Cn0cBMnd.js";import"./button-2bCJMJSP.js";import"./Skeleton-C7VVEt2j.js";import{C as j}from"./CourseProgress-Bjfzoz6t.js";import"./ApplicationLogo-rwhi1fvF.js";import"./Dropdown-aLMiQvGl.js";import"./transition-B2x3TEpM.js";const E=({auth:i})=>{const[e,c]=r.useState(null),[l,n]=r.useState([]),[x,g]=r.useState(!0),[d,m]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const a=await o.getUserProgress();c(a.data.data);const h=await o.getAllCoursesProgress();n(h.data.data||[])}catch(a){m("Failed to load progress data. Please try again later."),console.error("Error fetching progress:",a)}finally{g(!1)}})()},[]),s.jsxs(p,{user:i.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Your Progress"}),children:[s.jsx(u,{title:"Progress"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:x?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"Loading progress data..."})}):d?s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",d]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:s.jsxs("div",{className:"p-6 text-gray-900",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),e?s.jsxs("div",{className:"overall-progress",children:[s.jsxs("div",{className:"stats grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"stat bg-gray-50 p-4 rounded",children:[s.jsx("div",{className:"stat-title text-gray-500",children:"Courses Started"}),s.jsx("div",{className:"stat-value text-2xl",children:e.courses_started})]}),s.jsxs("div",{className:"stat bg-gray-50 p-4 rounded",children:[s.jsx("div",{className:"stat-title text-gray-500",children:"Courses Completed"}),s.jsx("div",{className:"stat-value text-2xl",children:e.courses_completed})]}),s.jsxs("div",{className:"stat bg-gray-50 p-4 rounded",children:[s.jsx("div",{className:"stat-title text-gray-500",children:"Total Lessons Completed"}),s.jsx("div",{className:"stat-value text-2xl",children:e.total_lessons_completed})]})]}),s.jsxs("div",{className:"stats grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"stat bg-gray-50 p-4 rounded",children:[s.jsx("div",{className:"stat-title text-gray-500",children:"Questions Answered"}),s.jsx("div",{className:"stat-value text-2xl",children:e.total_questions_answered})]}),s.jsxs("div",{className:"stat bg-gray-50 p-4 rounded",children:[s.jsx("div",{className:"stat-title text-gray-500",children:"Correct Answers"}),s.jsxs("div",{className:"stat-value text-2xl",children:[e.correct_answers_count,"(",Math.round(e.correct_answers_percentage),"%)"]})]})]})]}):s.jsx("p",{className:"text-gray-600",children:"No progress data available. Start a course to track your progress!"})]})}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:s.jsxs("div",{className:"p-6 text-gray-900",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course Progress"}),l.length>0?s.jsx("div",{className:"course-progress-list space-y-6",children:l.map(t=>s.jsx(j,{courseProgress:t},t.course_id))}):s.jsx("p",{className:"text-gray-600",children:"You haven't started any courses yet."})]})})]})})})]})};export{E as default};
