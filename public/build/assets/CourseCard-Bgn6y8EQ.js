import{j as e,U as k,d as g}from"./app-CB6H9fcf.js";import{C as A}from"./DuoLayout-1S1Fd3QP.js";import"./card-Cn0cBMnd.js";import{B as h}from"./button-2bCJMJSP.js";import"./Skeleton-C7VVEt2j.js";const P=({level:s=2,kicker:r,children:l,center:i=!1,className:c=""})=>{const o=`h${s}`;return e.jsxs("div",{className:`space-y-2 ${i?"text-center":""} ${c}`,children:[r&&e.jsx("div",{className:"text-[11px] tracking-wider font-semibold uppercase text-brand-600",children:r}),e.jsx(o,{className:"text-xl md:text-2xl font-semibold tracking-tight text-gray-800",children:l})]})},V=({course:s,onClick:r,isStarted:l=!1})=>{const i=t=>{t.stopPropagation(),r?r():g.visit(`/courses/${s.id}`)},c=async t=>{t.stopPropagation();try{await A.setActiveCourse(s.id)}catch(a){console.error("Failed to set active course:",a)}g.visit(`/courses/${s.id}?start=1`)},o=[{key:"math",match:/(math|–º–∞—Ç–µ–º–∞—Ç)/,badge:"üßÆ",from:"from-sky-400",to:"to-blue-500",pill:"bg-sky-100 text-sky-700",bar:"bg-sky-500"},{key:"logic",match:/(logic|–ª–æ–≥—ñ–∫|–º–∏—Å–ª–µ–Ω)/,badge:"üß†",from:"from-green-400",to:"to-emerald-500",pill:"bg-green-100 text-green-700",bar:"bg-emerald-500"},{key:"reading",match:/(read|—á–∏—Ç–∞–Ω|letters|–±—É–∫–≤)/,badge:"üìö",from:"from-purple-400",to:"to-fuchsia-500",pill:"bg-purple-100 text-purple-700",bar:"bg-fuchsia-500"},{key:"science",match:/(science|–Ω–∞—É–∫|–ø—Ä–∏—Ä–æ–¥)/,badge:"üî¨",from:"from-amber-400",to:"to-orange-500",pill:"bg-amber-100 text-amber-700",bar:"bg-orange-500"}],d=o.find(t=>t.match.test((s?.title||"").toLowerCase()))||o[(s?.id||0)%o.length],u=()=>e.jsx("svg",{viewBox:"0 0 24 24",className:"h-8 w-8",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 14.93V13h3.93A8.034 8.034 0 0 1 13 16.93ZM11 13v3.93A8.034 8.034 0 0 1 7.07 13H11Zm0-2H7.07A8.034 8.034 0 0 1 11 7.07V11Zm2 0V7.07A8.034 8.034 0 0 1 16.93 11H13Z"})}),y=()=>{if(typeof document>"u"||document.getElementById("confetti-keyframes"))return;const t=document.createElement("style");t.id="confetti-keyframes",t.textContent=`
@keyframes confetti-pop { 0%{transform:translate(0,0) scale(0.6) rotate(0deg); opacity:1} 80%{opacity:1} 100%{transform:translate(var(--dx), var(--dy)) scale(1) rotate(360deg); opacity:0} }
`,document.head.appendChild(t)},p=k.useRef(null),b=()=>{if(typeof document>"u")return;y();const t=p.current;if(!t)return;const a=document.createElement("div");a.style.position="absolute",a.style.inset="0",a.style.overflow="hidden",a.style.pointerEvents="none",t.appendChild(a);const x=["#60a5fa","#34d399","#f472b6","#f59e0b","#a78bfa","#22d3ee"],w=18;for(let m=0;m<w;m++){const n=document.createElement("span"),f=6+Math.random()*6,N=Math.random()*160-80+"px",C=Math.random()*-120-40+"px";n.style.setProperty("--dx",N),n.style.setProperty("--dy",C),n.style.position="absolute",n.style.left=50+(Math.random()*20-10)+"%",n.style.top="50%",n.style.width=f+"px",n.style.height=f+"px",n.style.background=x[m%x.length],n.style.borderRadius=Math.random()>.5?"2px":"50%",n.style.transform="translate(0,0)",n.style.animation="confetti-pop 700ms ease-out forwards",n.style.boxShadow="0 0 0 1px rgba(255,255,255,0.3) inset",a.appendChild(n)}setTimeout(()=>{a.remove()},900)},v=l?"–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏":"–ü–æ—á–∞—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è",j=l?"Continue learning":"Start learning";return e.jsxs("div",{className:"group relative flex flex-col ui-card-clean overflow-hidden cursor-pointer",onClick:i,role:"button",tabIndex:0,onKeyDown:t=>t.key==="Enter"?i(t):null,ref:p,children:[e.jsx("div",{className:"absolute right-3 top-3 select-none",children:e.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-white/70 text-lg ring-1 ring-border-subtle",title:"Course vibe",children:e.jsx("span",{"aria-hidden":!0,children:d.badge})})}),l&&e.jsx("div",{className:"absolute right-3 bottom-3 select-none pointer-events-none",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2 py-0.5 text-xs font-semibold text-emerald-700 ring-1 ring-inset ring-emerald-200",children:[e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 0 1 0 1.414l-7.5 7.5a1 1 0 0 1-1.414 0l-3-3a1 1 0 1 1 1.414-1.414L8.5 12.086l6.793-6.793a1 1 0 0 1 1.414 0Z",clipRule:"evenodd"})}),"–†–æ–∑–ø–æ—á–∞—Ç–æ"]})}),e.jsxs("div",{className:"flex items-center gap-4 p-5",children:[e.jsx("div",{className:`h-14 w-14 flex items-center justify-center rounded-2xl bg-gradient-to-br ${d.from} ${d.to} text-white text-2xl font-bold shadow-inner`,children:s.image_url?e.jsx("img",{className:"h-14 w-14 rounded-2xl object-cover",src:s.image_url,alt:s.title,loading:"lazy",onError:t=>{t.currentTarget.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='56' height='56'><rect width='100%' height='100%' fill='%23e5e7eb'/></svg>"}}):e.jsx(u,{})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"truncate text-lg font-semibold text-gray-800",children:s.title}),e.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-gray-600",children:s.description}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{className:`inline-flex items-center rounded-full ${d.pill} px-2.5 py-0.5 font-medium`,children:s.level||"Beginner"}),e.jsxs("span",{className:`inline-flex items-center rounded-full ${d.pill} px-2.5 py-0.5 font-medium`,children:[s.units_count," units"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 px-5 pb-5",children:[e.jsx(h,{size:"sm",onClick:t=>{t.stopPropagation(),b(),c(t)},className:"rounded-full","aria-label":j,children:v}),e.jsx(h,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),i(t)},className:"rounded-full",children:"–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫—É—Ä—Å"})]})]})};export{V as C,P as H};
